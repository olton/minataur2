;
const daemonStatus = `
{
  "num_accounts": 8972,
  "blockchain_length": 6456,
  "highest_block_length_received": 6541,
  "highest_unvalidated_block_length_received": 6541,
  "uptime_secs": 2663,
  "ledger_merkle_root": "jx5jSx46mi5HpHysCVGiMLXKjLXjWsXXoMuQg9n5BqAM7rg37qY",
  "state_hash": "3NKcohsfaKj1c875h9ENyp78exFEvyqdgjAeg19aq4G6EVQjHAr1",
  "chain_id":
    "3c41383994b87449625df91769dff7b507825c064287d30fada9286f3f1cb15e",
  "commit_id": "14047c55517cf3587fc9a6ac55c8f7e80a419571",
  "conf_dir": "/home/olton/.mina-config",
  "peers": [
    {
      "host": "34.134.117.3",
      "libp2p_port": 23240,
      "peer_id": "12D3KooWJ42kd7sf7etXSPWPtu79LRF6wYFG5e3oV2UWEBqjkXE4"
    },
    {
      "host": "35.192.28.217",
      "libp2p_port": 10001,
      "peer_id": "12D3KooWLjs54xHzVmMmGYb7W5RVibqbwD1co7M2ZMfPgPm7iAag"
    },
    {
      "host": "65.21.123.88",
      "libp2p_port": 36988,
      "peer_id": "12D3KooWLKSM9oHWU7qwL7Ci75wunkjXpRmK6j5xq527zGw554AF"
    },
    {
      "host": "34.71.152.247",
      "libp2p_port": 14118,
      "peer_id": "12D3KooWDsuY14rjz4z7qBDzJCwpTn3dKGAvR87dabXp1LHaoZNq"
    },
    {
      "host": "34.134.117.3",
      "libp2p_port": 19792,
      "peer_id": "12D3KooWLvUud4f8ZXDfKAkjFM2VYn2NXzpcyafhcRJeVCYHmFDE"
    },
    {
      "host": "65.108.72.143",
      "libp2p_port": 41495,
      "peer_id": "12D3KooWDKdHVbnkM7GJYML6ogYR5KmHUj9Ngnq1Lk42xcXnf2sx"
    },
    {
      "host": "176.9.147.240",
      "libp2p_port": 39182,
      "peer_id": "QmSXffHzFVSEoQCYBS1bPpCn4vgGEpQnCA9NLYuhamPBU3"
    },
    {
      "host": "34.31.51.101",
      "libp2p_port": 29606,
      "peer_id": "12D3KooWN4MzTSpXR9gkQGtfkDqu9mvCwFbXfa1VDSMDBWS7E7x1"
    },
    {
      "host": "88.198.230.168",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWGA7AS91AWNtGEBCBk64kgirtTiyaXDTyDtKPTjpefNL9"
    },
    {
      "host": "65.21.184.74",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWGXtfZ5G9TDFXTuXxV41uX9bCxEpE1EuKRwsDAeZ65gAa"
    },
    {
      "host": "35.238.52.78",
      "libp2p_port": 51863,
      "peer_id": "12D3KooWDyYJ6j6YRaSJvH6zWHCeWk4JixjsJTH8evoM2sChsAbp"
    },
    {
      "host": "135.181.116.239",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWJ2SbBEHP2QYiWi8HGV3JYAxJgFrduwANkTmXRvFJF78y"
    },
    {
      "host": "65.109.123.173",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWMd8K8FFd76cacUEE6sSzUPr7wj71TvMqGdFSgrpv923k"
    },
    {
      "host": "35.238.52.78",
      "libp2p_port": 44499,
      "peer_id": "12D3KooWBzLKJJh92hWQPJgNF22A5i3dfmE8NEJ7YZF5jHiuyX2j"
    },
    {
      "host": "34.134.107.112",
      "libp2p_port": 6610,
      "peer_id": "12D3KooWLqWnmAPimE2PWJsrLnapm5FejLf13xjUKDrrh2AyhH5U"
    },
    {
      "host": "34.134.117.3",
      "libp2p_port": 3590,
      "peer_id": "12D3KooWGi69kC6ui8kkcEySkMJgoMGufwUY9z1nAFmLPBUWJ6xw"
    },
    {
      "host": "65.109.110.75",
      "libp2p_port": 42380,
      "peer_id": "12D3KooWFpqySZDHx7k5FMjdwmrU3TLhDbdADECCautBcEGtG4fr"
    },
    {
      "host": "176.9.147.28",
      "libp2p_port": 50098,
      "peer_id": "QmZvoP2taWTUbuGp1xnu5AXizG9vr2MFbam7nSuGvpmfhM"
    },
    {
      "host": "35.192.12.147",
      "libp2p_port": 13979,
      "peer_id": "12D3KooWMX1v5BJ6tZ62KscpLKkKbJin29bHtjTbqgCDFr9uJjPa"
    },
    {
      "host": "34.31.51.101",
      "libp2p_port": 62006,
      "peer_id": "12D3KooWH5g2eJxCZqdyzmngLCfxUSySs4wg4utr3mNC33khTPwW"
    },
    {
      "host": "176.9.147.240",
      "libp2p_port": 46420,
      "peer_id": "QmQKwHVjkpqdLco5KpyMXjDwjxKHLdS78kmdDMWwvxYKFf"
    },
    {
      "host": "35.192.12.147",
      "libp2p_port": 60383,
      "peer_id": "12D3KooWFufsxKioHoVBF8QLfh78cyZgfdrjVfWaYckF44MJzkgT"
    },
    {
      "host": "34.41.28.128",
      "libp2p_port": 23456,
      "peer_id": "12D3KooWR3zXwZCjsXM3JS2NqME8cXkRLCHLxqYZrTPsSQ2H9YUL"
    },
    {
      "host": "34.135.63.47",
      "libp2p_port": 10002,
      "peer_id": "12D3KooWEiGVAFC7curXWXiGZyMWnZK9h8BKr88U8D5PKV3dXciv"
    },
    {
      "host": "65.109.123.166",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWGc9vwL9DUvoLdBFPSQGCT2QTULskzhmXcn8zg2j3jdFF"
    },
    {
      "host": "34.31.51.101",
      "libp2p_port": 17210,
      "peer_id": "12D3KooWSciShgqGUWzyYeUJ71cAeRTaniAab9QrPVYdDMntBNDC"
    },
    {
      "host": "34.66.88.122",
      "libp2p_port": 35844,
      "peer_id": "12D3KooWH98a6w67BM1ZBnD2Vu9bySmNjNAjkyEiczoQiSxQSTLJ"
    },
    {
      "host": "34.41.28.128",
      "libp2p_port": 10923,
      "peer_id": "12D3KooWPqLwbsZr4e3NZ2DU9itgjNDjDQfaFDGw47tvz4syZHwd"
    },
    {
      "host": "34.170.114.52",
      "libp2p_port": 10000,
      "peer_id": "12D3KooWAdgYL6hv18M3iDBdaK1dRygPivSfAfBNDzie6YqydVbs"
    },
    {
      "host": "65.108.121.245",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWGQ4g2eY44n5JLqymi8KC55GbnujAFeXNQrmNKSq4NYrv"
    },
    {
      "host": "34.134.107.112",
      "libp2p_port": 1315,
      "peer_id": "12D3KooWC1YU6zZgFhUG8nEKYWRsWRoLoCj6L6CqbMVvpuZVRaSK"
    },
    {
      "host": "176.9.147.28",
      "libp2p_port": 38810,
      "peer_id": "QmemRt4HfpNBsFY752tE5E3H6dV87JjtmgacN53BDGbaB6"
    },
    {
      "host": "52.88.214.239",
      "libp2p_port": 22635,
      "peer_id": "12D3KooWSRVESKzFPbhBg5ub6BVn9iFu6YK469oMwLgvpJTq8GFz"
    },
    {
      "host": "65.109.123.235",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWBK3vz1inMubXCUeDF4Min6eG5418toceG8QvNPWRW1Gz"
    },
    {
      "host": "34.66.88.122",
      "libp2p_port": 33800,
      "peer_id": "12D3KooWA58yNpFbNm466fKP7Ve1Uyyqs2TSrhmdVsWpVRdvjSaR"
    },
    {
      "host": "176.9.147.28",
      "libp2p_port": 46002,
      "peer_id": "QmVXA7fjnahFLC85jFHJYXapM61Yo1rvH7Live7szpUrzb"
    },
    {
      "host": "34.134.114.13",
      "libp2p_port": 30923,
      "peer_id": "12D3KooWCQJNnFNnFiqJzhGFLcjtK2mCGrjc3un9vDsuYMC6XHXP"
    },
    {
      "host": "34.134.107.112",
      "libp2p_port": 40846,
      "peer_id": "12D3KooWNmeNWDGf9RaqHKQZPbR8ejPogs5CoyjKPdyCisWRvTAz"
    }
  ],
  "user_commands_sent": 0,
  "snark_worker": null,
  "snark_work_fee": 100000000,
  "sync_status": "Catchup",
  "catchup_status": [
    [ [ "To_build_breadcrumb" ], 1 ],
    [ [ "To_initial_validate" ], 0 ],
    [ [ "Finished" ], 214 ],
    [ [ "To_download" ], 0 ],
    [ [ "Wait_for_parent" ], 87 ],
    [ [ "To_verify" ], 0 ]
  ],
  "block_production_keys": [],
  "coinbase_receiver": null,
  "histograms": null,
  "consensus_time_best_tip": {
    "slot_number": "11757",
    "slots_per_epoch": "7140"
  },
  "global_slot_since_genesis_best_tip": 11757,
  "next_block_production": null,
  "consensus_time_now": { "slot_number": "11909", "slots_per_epoch": "7140" },
  "consensus_mechanism": "proof_of_stake",
  "consensus_configuration": {
    "delta": 0,
    "k": 290,
    "slots_per_epoch": 7140,
    "slot_duration": 180000,
    "epoch_duration": 1285200000,
    "genesis_state_timestamp": "1694610061000",
    "acceptable_network_delay": 180000
  },
  "addrs_and_ports": {
    "external_ip": "78.27.236.28",
    "bind_ip": "0.0.0.0",
    "peer": {
      "host": "0.0.0.0",
      "libp2p_port": 8302,
      "peer_id": "12D3KooWDLNXPq28An4s2QaPZX5ftem1AfaCWuxHHJq97opeWxLy"
    },
    "libp2p_port": 8302,
    "client_port": 8301
  },
  "metrics": {
    "block_production_delay": [ 0, 0, 0, 0, 0, 0, 0 ],
    "transaction_pool_diff_received": 515,
    "transaction_pool_diff_broadcasted": 0,
    "transactions_added_to_pool": 2,
    "transaction_pool_size": 2
  }
}
`

const updateDaemonStatus = (data) => {
    console.log(JSON.parse(daemonStatus))
    const status = JSON.parse(data || daemonStatus)
    $("#num_accounts").html(num2fmt(status.num_accounts))
    $("#blockchain_length").html(num2fmt(status.blockchain_length))
    $("#peers").html(num2fmt(status.peers.length))
    $("#global_slot_since_genesis_best_tip").html(num2fmt(status.global_slot_since_genesis_best_tip))
    $("#highest_block_length_received").html(num2fmt(status.highest_block_length_received))
    $("#highest_unvalidated_block_length_received").html(num2fmt(status.highest_unvalidated_block_length_received))
    $("#user_commands_sent").html(num2fmt(status.user_commands_sent))
    $("#sync_status").html(status.sync_status)
    $("#chain_id").html(shorten(status.chain_id, 12))
    $("#commit_id").html(shorten(status.commit_id, 12))
    $("#consensus_mechanism").html(status.consensus_mechanism)
    $("#ledger_merkle_root").html(shorten(status.ledger_merkle_root, 12))
    $("#state_hash").html(shorten(status.state_hash, 12))
    $("#consensus_time_best_tip").html(`epoch: ${Math.floor(status.consensus_time_best_tip.slot_number/status.consensus_time_best_tip.slots_per_epoch)}, slot: ${status.consensus_time_best_tip.slot_number - status.consensus_time_best_tip.slots_per_epoch}`)
    $("#consensus_time_now").html(`epoch: ${Math.floor(status.consensus_time_now.slot_number/status.consensus_time_now.slots_per_epoch)}, slot: ${status.consensus_time_now.slot_number - status.consensus_time_now.slots_per_epoch}`)

    const uptime = Metro.utils.secondsToTime(status.uptime_secs)
    $("#uptime_secs").html(`${uptime.d}d, ${uptime.h}h ${uptime.m}m`)
}